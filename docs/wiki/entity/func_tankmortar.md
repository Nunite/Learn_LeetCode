# func_tankmortar
[#固体实体](wiki/solid_entity)

用于制作大炮的固体实体。大炮能制造爆炸（在瞄准位置制造类似手雷、C4的爆炸，造成伤害），默认是电脑自动控制，也可以设置为玩家控制。

?> 玩家控制：如果需要玩家控制，需要勾选“玩家控制”标记，并且配合[func_tankcontrols](wiki/entity/func_tankcontrols)实体使用，[func_tankcontrols](wiki/entity/func_tankcontrols)实体用于指定控制机枪的范围，玩家在范围可以控制该机枪。

?> 本实体还需要配置[env_laser](wiki/entity/env_laser)激光点实体使用，制作一个[env_laser](wiki/entity/env_laser)激光点实体，放在地图任何位置都可以，设置激光的样式，然后设置它的“激光目标”属性为激光枪。激光枪的“env_laser 实体”属性也要填这个激光点实体的名称。

?> 需要轴心：需要配合origin纹理![origin](../../images/tex_origin.png ":no-zoom")使用。TODO：待补充

?> 默认朝右：实体默认朝向X轴正方向（即俯视图向右侧），调整实体角度（只能设置实体角度，hammer中旋转无效）可以改变方向。

?> 如果你想让大炮更逼真，还可以模拟出射击后的地面振动效果。制作一个[enc_shake](wiki/entity/enc_shake)实体，大炮的名称填它（声音点实体和地震点实体名称可以一样）即可。

## 属性 (property)
> **名称** *targetname* = *空* | 字符串

实体的名称，用于被其他实体引发，可参考：[引发机制](wiki/trigger)

> **属主** *master* = *空* | 字符串

填写[multisource](wiki/entity/multisource)的名称，详见[multisource](wiki/entity/multisource)

> **目标** *target* = *空* | 字符串

目标实体的名称，用于引发其他实体，可参考：[引发机制](wiki/trigger)

> **实体角度 (倾斜 旋转 滚动)** *angles* = *0 0 0* | 角度

旋转角度

> **渲染模式** *rendermode* = *空* | 单选

- 普通0 - 无光 = *空*
- 纯颜色1 (仅固体实体) = *1*
- 纹理2 - 微光(全亮) = *2*
- 发光3 (仅图标动画) = *3*
- 固体4 - 无光 = *4*
- 附加5 = *5*

常用的有三个。普通：平时正常的样式；固体：配合{开头的纹理实现透明（如梯子）；发光：配合黑底的纹理实现半透明（如光柱）；

> **渲染效果** *renderfx* = *空* | 单选

- 普通 (0) = *空*
- 脉冲 缓慢 (1) = *1*
- 脉冲 快速 (2) = *2*
- 脉冲 缓慢大范围 (3) = *3*
- 脉冲 快速大范围 (4) = *4*
- 滤波 缓慢 (9) = *9*
- 滤波 快速 (10) = *10*
- 滤波 极快 (11) = *11*
- 闪烁 缓慢 (12) = *12*
- 闪烁 快速 (13) = *13*
- 恒定的发光模式 (14) = *14*
- 扭曲 (仅模型) (15) = *15*
- 扭曲+渐隐 (16) = *16*
- 发光外壳(仅模型)(19) = *19*

> **透明度 (0-255 0=完全透明)** *renderamt* = *255* | 整数

> **渲染色 (R G B)** *rendercolor* = *空* | 颜色

> **实体效果 (数字可相加)** *effects* = *空* | 多选

- 无 = *空*
- 1 (粒子漩涡) = *1*
- 2 (枪口火焰) = *2*
- 4 (强光) = *4*
- 8 (弱光) = *8*
- 16 (假定环境光线向上) = *16*
- 32 (不插入下一帧) = *32*
- 64 (发光图标) = *64*
- 128 (不可见/无网络传输) = *128*

> **纹理发光样式** *style* = *空* | 单选

- 普通 = *空*
- 捆绑到同名光源 = *-3*
- 闪烁的荧光 = *10*
- 脉冲 缓慢 强大 = *2*
- 脉冲 缓慢 = *11*
- 脉冲 温和 = *5*
- 闪烁 A = *1*
- 闪烁 B = *6*
- 烛光 A = *3*
- 烛光 B = *7*
- 烛光 C = *8*
- 滤波 快速 = *4*
- 滤波 缓慢 = *9*
- 水下光线 = *12*

> **最小灯光等级 (0.0-2.0)** *_minlight* = *空* | 字符串

> **左右转动速度** *yawrate* = *45* | 字符串

> **左右转动范围** *yawrange* = *180* | 字符串

单位是角度，只能在这个角度范围内转动

> **左右转动偏差** *yawtolerance* = *15* | 字符串

> **上下转动速度** *pitchrate* = *0* | 字符串

> **上下转动范围** *pitchrange* = *0* | 字符串

单位是角度，只能在这个角度范围内转动

> **上下转动偏差** *pitchtolerance* = *5* | 字符串

> **枪口X坐标 (相对于轴心)** *barrel* = *0* | 字符串

和另外两个枪口坐标配合使用，指定枪口相对于轴心的偏移量。子弹会从枪口位置射出，枪焰图标也会生成在这里。因为枪口默认是朝着X轴正方向（俯视图向右），一般只设置barrel即可。

> **枪口Y坐标 (相对于轴心)** *barrely* = *0* | 字符串

和另外两个枪口坐标配合使用，指定枪口相对于轴心的偏移量。子弹会从枪口位置射出，枪焰图标也会生成在这里。因为枪口默认是朝着X轴正方向（俯视图向右），一般只设置barrel即可。

> **枪口Z坐标 (相对于轴心)** *barrelz* = *0* | 字符串

和另外两个枪口坐标配合使用，指定枪口相对于轴心的偏移量。子弹会从枪口位置射出，枪焰图标也会生成在这里。因为枪口默认是朝着X轴正方向（俯视图向右），一般只设置barrel即可。

> **烟雾图标动画文件** *spritesmoke* = *空* | 字符串

枪口生成的烟雾图标

> **火花图标动画文件** *spriteflash* = *空* | 字符串

枪口生成的火花图标

> **图标动画比例** *spritescale* = *1* | 字符串

> **转动声音** *rotatesound* = *空* | 路径

> **射速** *firerate* = *1* | 字符串

> **每发子弹伤害** *bullet_damage* = *0* | 字符串

> **目标消失后持续射击时间** *persistence* = *1* | 小数

看不见目标后会停止射击，设置这个值能让它火力压制一段时间后再停止射击。

> **射击准确度** *firespread* = *0* | 单选

- 完美 = *0*
- 较好 = *1*
- 一般 = *2*
- 较差 = *3*
- 极差 = *4*

> **最小搜寻范围** *minRange* = *0* | 字符串

> **最大搜寻范围** *maxRange* = *0* | 字符串

> **爆炸范围** *iMagnitude* = *100* | 整数

## 标记 (flag)
> **开始时打开(自动射击)** *= 1*

> **目标消失后停止射击** *= 16*

> **玩家控制** *= 32*

> **死亡模式中禁用** *= 2048*

